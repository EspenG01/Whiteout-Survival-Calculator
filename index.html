<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Whiteout Survival Upgrade Planner</title>
  <style>
    /* Layout */
    body {
      font-family: Arial, sans-serif;
      margin: 0 auto;
      max-width: 650px;
      background: #f0f2f5;
      padding: 20px;
    }
    h1, h2, h3 { text-align: center; margin: 0 0 15px; }
    /* Tabs */
    .tabs {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 8px;
      margin-bottom: 20px;
    }
    .tabs button {
      flex: 1 1 auto;
      max-width: 120px;
      background: #4A90E2;
      color: #fff;
      border: none;
      border-radius: 4px;
      padding: 10px;
      cursor: pointer;
      transition: background 0.2s;
    }
    .tabs button:hover,
    .tabs button.active { background: #357ABD; }
    /* Tab panels */
    .tab { display: none; }
    .tab.active {
      display: block;
      animation: fadeIn 0.3s ease-in;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to   { opacity: 1; transform: translateY(0); }
    }
    /* Section cards */
    .section {
      background: #fff;
      border-radius: 6px;
      padding: 15px;
      margin-bottom: 20px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px 20px;
    }
    @media (max-width: 600px) {
      .section {
        grid-template-columns: 1fr;
      }
    }
    /* Form controls */
    label { display: block; margin-bottom: 5px; }
    select, button {
      width: 100%;
      padding: 10px;
      font-size: 1em;
      margin-bottom: 10px;
      border-radius: 4px;
      border: 1px solid #ccc;
      box-sizing: border-box;
    }
    /* Buttons */
    button.calculate {
      background: #4A90E2;
      color: #fff;
      border: none;
      border-radius: 4px;
      transition: background 0.2s, transform 0.1s;
    }
    button.calculate:hover { background: #357ABD; transform: translateY(-1px); }
    button.calculate:active { transform: translateY(0); }
    /* Results */
    .result {
      margin-top: 20px;
      font-weight: bold;
      background: #fff;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>
  <h1>Whiteout Survival Upgrade Planner</h1>
  <div class="tabs">
    <button onclick="showTab('buildings')" class="active">Buildings</button>
    <button onclick="showTab('gear')">Chief Gear</button>
    <button onclick="showTab('charms')">Charms</button>
    <button onclick="showTab('heroShards')">Hero Shards</button>
    <button onclick="showTab('heroWidgets')">Hero Widgets</button>
    <button onclick="showTab('warAcademy')">War Academy</button>
  </div>

  <!-- BUILDINGS -->
  <div id="buildings" class="tab active">
    <h2>Building Resource Calculator</h2>
    <div class="section">
      <div>
        <label>Building Type:</label>
        <select id="buildingType">
          <option>Furnace</option>
          <option>Embassy</option>
          <option>Infantry</option>
          <option>Marksman</option>
          <option>Lancer</option>
          <option>CC</option>
          <option>Infirmary</option>
          <option>War Academy</option>
        </select>
      </div>
      <div>
        <label>Current Level:</label>
        <select id="currentLevel"></select>
      </div>
      <div>
        <label>Desired Level:</label>
        <select id="desiredLevel"></select>
      </div>
      <div>
        <button class="calculate" onclick="calculateFCs()">Calculate</button>
      </div>
    </div>
    <div class="result" id="buildingResult"></div>
  </div>

  <!-- CHIEF GEAR -->
  <div id="gear" class="tab">
    <h2>Chief Gear Calculator</h2>
    <div class="section">
      <div>
        <label>Current Gear Level:</label>
        <select id="currentGear"></select>
      </div>
      <div>
        <label>Desired Gear Level:</label>
        <select id="desiredGear"></select>
      </div>
      <div style="grid-column: span 2;">
        <button class="calculate" onclick="calculateGear()">Calculate</button>
      </div>
    </div>
    <div class="result" id="gearResult"></div>
  </div>

  <!-- CHARMS -->
  <div id="charms" class="tab">
    <h2>Charm Calculator</h2>
    <div class="section">
      <div>
        <label>Current Charm Level:</label>
        <select id="currentCharm"></select>
      </div>
      <div>
        <label>Desired Charm Level:</label>
        <select id="desiredCharm"></select>
      </div>
      <div style="grid-column: span 2;">
        <button class="calculate" onclick="calculateCharms()">Calculate</button>
      </div>
    </div>
    <div class="result" id="charmResult"></div>
  </div>

  <!-- HERO SHARDS -->
  <div id="heroShards" class="tab">
    <h2>Hero Shards Calculator</h2>
    <div class="section">
      <div>
        <label>Current Hero Level:</label>
        <select id="currentHeroShard"></select>
      </div>
      <div>
        <label>Desired Hero Level:</label>
        <select id="desiredHeroShard"></select>
      </div>
      <div style="grid-column: span 2;">
        <button class="calculate" onclick="calculateHeroShards()">Calculate</button>
      </div>
    </div>
    <div class="result" id="heroShardResult"></div>
  </div>

  <!-- HERO WIDGETS -->
  <div id="heroWidgets" class="tab">
    <h2>Hero Widgets Calculator</h2>
    <div class="section">
      <div>
        <label>Current Widget Level:</label>
        <select id="currentHeroWidget"></select>
      </div>
      <div>
        <label>Desired Widget Level:</label>
        <select id="desiredHeroWidget"></select>
      </div>
      <div style="grid-column: span 2;">
        <button class="calculate" onclick="calculateHeroWidgets()">Calculate</button>
      </div>
    </div>
    <div class="result" id="heroWidgetResult"></div>
  </div>

  <!-- WAR ACADEMY -->
  <div id="warAcademy" class="tab">
    <h2>War Academy Upgrades</h2>
    <!-- Repeat for each of the 10 upgrades -->
    <div class="section">
      <h3>Flame Squad</h3>
      <div>
        <label>Current Level:</label>
        <select id="flameSquadCurrent"></select>
      </div>
      <div>
        <label>Desired Level:</label>
        <select id="flameSquadDesired"></select>
      </div>
    </div>
    <div class="section">
      <h3>Lethality</h3>
      <div>
        <label>Current Level:</label>
        <select id="lethalityCurrent"></select>
      </div>
      <div>
        <label>Desired Level:</label>
        <select id="lethalityDesired"></select>
      </div>
    </div>
    <div class="section"><h3>Health</h3>
        <label>Current Level:
          <select id="healthCurrent"></select>
        </label>
        <label>Desired Level:
          <select id="healthDesired"></select>
        </label>
      </div>
      <div class="section"><h3>Flame Legion</h3>
        <label>Current Level:
          <select id="flameLegionCurrent"></select>
        </label>
        <label>Desired Level:
          <select id="flameLegionDesired"></select>
        </label>
      </div>
      <div class="section"><h3>Attack</h3>
        <label>Current Level:
          <select id="attackCurrent"></select>
        </label>
        <label>Desired Level:
          <select id="attackDesired"></select>
        </label>
      </div>
      <div class="section"><h3>Defense</h3>
        <label>Current Level:
          <select id="defenseCurrent"></select>
        </label>
        <label>Desired Level:
          <select id="defenseDesired"></select>
        </label>
      </div>
      <div class="section"><h3>Helios</h3>
        <label>Current Level:
          <select id="heliosCurrent"></select>
        </label>
        <label>Desired Level:
          <select id="heliosDesired"></select>
        </label>
      </div>
      <div class="section"><h3>Healing</h3>
        <label>Current Level:
          <select id="healingCurrent"></select>
        </label>
        <label>Desired Level:
          <select id="healingDesired"></select>
        </label>
      </div>
      <div class="section"><h3>Training</h3>
        <label>Current Level:
          <select id="trainingCurrent"></select>
        </label>
        <label>Desired Level:
          <select id="trainingDesired"></select>
        </label>
      </div>
      <div class="section"><h3>First Aid</h3>
        <label>Current Level:
          <select id="firstAidCurrent"></select>
        </label>
        <label>Desired Level:
          <select id="firstAidDesired"></select>
        </label>
      </div>
      <button onclick="calculateWarAcademy()">Calculate</button>
      <div class="result" id="warAcademyResult"></div>
    </div>
    <div style="text-align:center;">
      <button class="calculate" onclick="calculateWarAcademy()">Calculate War Academy</button>
    </div>
    <div class="result" id="warAcademyResult"></div>
  </div>

  <script>
// -- Data --
const buildingLevels = ["Fc5","Fc5-1","Fc5-2","Fc5-3","Fc5-4","Fc6","Fc6-1","Fc6-2","Fc6-3","Fc6-4",
      "Fc7","Fc7-1","Fc7-2","Fc7-3","Fc7-4","Fc8","Fc8-1","Fc8-2","Fc8-3","Fc8-4",
      "Fc9","Fc9-1","Fc9-2","Fc9-3","Fc9-4","Fc10"];
    const fcCosts = {"Fc5":0,"Fc5-1":200,"Fc5-2":200,"Fc5-3":200,"Fc5-4":200,
      "Fc6":100,"Fc6-1":240,"Fc6-2":240,"Fc6-3":240,"Fc6-4":240,
      "Fc7":120,"Fc7-1":240,"Fc7-2":240,"Fc7-3":240,"Fc7-4":240,
      "Fc8":120,"Fc8-1":280,"Fc8-2":280,"Fc8-3":280,"Fc8-4":280,
      "Fc9":140,"Fc9-1":350,"Fc9-2":350,"Fc9-3":350,"Fc9-4":350,
      "Fc10":175};
    const rfcCosts = {"Fc5":0,"Fc5-1":10,"Fc5-2":10,"Fc5-3":10,"Fc5-4":10,
      "Fc6":20,"Fc6-1":30,"Fc6-2":30,"Fc6-3":30,"Fc6-4":30,
      "Fc7":20,"Fc7-1":30,"Fc7-2":30,"Fc7-3":30,"Fc7-4":30,
      "Fc8":40,"Fc8-1":30,"Fc8-2":30,"Fc8-3":30,"Fc8-4":30,
      "Fc9":60,"Fc9-1":70,"Fc9-2":70,"Fc9-3":70,"Fc9-4":70,
      "Fc10":140};

    const gearLevels = ["0","Green","Green 1*","Blue","Blue 1*","Blue 2*","Blue 3*",
      "Purple","Purple 1*","Purple 2*","Purple 3*","Purple T1","Purple T1 1*","Purple T1 2*","Purple T1 3*",
      "Gold","Gold 1*","Gold 2*","Gold 3*","Gold T1","Gold T1 1*","Gold T1 2*","Gold T1 3*",
      "Gold T2","Gold T2 1*","Gold T2 2*","Gold T2 3*",
      "Red","Red 1*","Red 2*","Red 3*","Red T1","Red T1 1*","Red T1 2*","Red T1 3*",
      "Red T2","Red T2 1*","Red T2 2*","Red T2 3*",
      "Red T3","Red T3 1*","Red T3 2*","Red T3 3*"];
    const gearData = [
      {Alloy:1500,Polish:15,Plans:0,Amber:0},{Alloy:3800,Polish:40,Plans:0,Amber:0},
      {Alloy:7000,Polish:70,Plans:0,Amber:0},{Alloy:9700,Polish:95,Plans:0,Amber:0},
      {Alloy:0,Polish:0,Plans:45,Amber:0},{Alloy:0,Polish:0,Plans:50,Amber:0},
      {Alloy:0,Polish:0,Plans:60,Amber:0},{Alloy:0,Polish:0,Plans:70,Amber:0},
      {Alloy:6500,Polish:65,Plans:40,Amber:0},{Alloy:8000,Polish:80,Plans:50,Amber:0},
      {Alloy:10000,Polish:95,Plans:60,Amber:0},{Alloy:11000,Polish:110,Plans:70,Amber:0},
      {Alloy:13000,Polish:130,Plans:85,Amber:0},{Alloy:15000,Polish:160,Plans:100,Amber:0},
      {Alloy:22000,Polish:220,Plans:40,Amber:0},{Alloy:23000,Polish:230,Plans:40,Amber:0},
      {Alloy:25000,Polish:250,Plans:45,Amber:0},{Alloy:26000,Polish:260,Plans:45,Amber:0},
      {Alloy:28000,Polish:280,Plans:45,Amber:0},{Alloy:30000,Polish:300,Plans:55,Amber:0},
      {Alloy:32000,Polish:320,Plans:55,Amber:0},{Alloy:35000,Polish:340,Plans:55,Amber:0},
      {Alloy:38000,Polish:360,Plans:55,Amber:0},{Alloy:43000,Polish:430,Plans:75,Amber:0},
      {Alloy:45000,Polish:460,Plans:80,Amber:0},{Alloy:48000,Polish:500,Plans:85,Amber:0},
      {Alloy:50000,Polish:530,Plans:85,Amber:10},{Alloy:52000,Polish:560,Plans:90,Amber:10},
      {Alloy:54000,Polish:590,Plans:95,Amber:10},{Alloy:56000,Polish:620,Plans:100,Amber:10},
      {Alloy:59000,Polish:670,Plans:110,Amber:15},{Alloy:61000,Polish:700,Plans:115,Amber:15},
      {Alloy:63000,Polish:730,Plans:120,Amber:15},{Alloy:65000,Polish:760,Plans:125,Amber:15},
      {Alloy:68000,Polish:810,Plans:135,Amber:20},{Alloy:70000,Polish:840,Plans:140,Amber:20},
      {Alloy:72000,Polish:870,Plans:145,Amber:20},{Alloy:74000,Polish:900,Plans:150,Amber:20},
      {Alloy:77000,Polish:950,Plans:160,Amber:25},{Alloy:80000,Polish:990,Plans:165,Amber:25},
      {Alloy:83000,Polish:1030,Plans:170,Amber:25},{Alloy:86000,Polish:1070,Plans:180,Amber:25}
    ];

    const charmData = [
      {Guides:5,Designs:5,Secrets:0},{Guides:40,Designs:15,Secrets:0},
      {Guides:60,Designs:40,Secrets:0},{Guides:80,Designs:100,Secrets:0},
      {Guides:100,Designs:200,Secrets:0},{Guides:120,Designs:300,Secrets:0},
      {Guides:140,Designs:400,Secrets:0},{Guides:200,Designs:400,Secrets:0},
      {Guides:300,Designs:400,Secrets:0},{Guides:420,Designs:420,Secrets:0},
      {Guides:560,Designs:420,Secrets:0},{Guides:580,Designs:450,Secrets:15},
      {Guides:580,Designs:450,Secrets:30},{Guides:600,Designs:500,Secrets:45},
      {Guides:600,Designs:500,Secrets:70},{Guides:650,Designs:550,Secrets:100}
    ];

    const heroLevels = ["0","0.1","0.2","0.3","0.4","0.5","1","1.1","1.2","1.3","1.4","1.5",
      "2","2.1","2.2","2.3","2.4","2.5","3","3.1","3.2","3.3","3.4","3.5",
      "4","4.1","4.2","4.3","4.4","4.5","5"];
    const heroShardData = [0,1,1,2,2,2,2,5,5,5,5,5,15,15,15,15,15,15,40,40,40,40,40,40,100,100,100,100,100,100,100];
    const heroWidgetData = [0,5,10,15,20,25,30,35,40,45,50];

    // War Academy
    const warAcadIds = ["flameSquad","lethality","health","flameLegion","attack","defense","helios","healing","training","firstAid"];
    const warAcadNames = ["Flame Squad","Lethality","Health","Flame Legion","Attack","Defense","Helios","Healing","Training","First Aid"];
    const warAcadData = {
      flameSquad:   { fcs:[0,16,25,41,68,102], steel:[0,5000,8000,13000,21000,33000] },
      lethality:    { fcs:[0,40,56,74,102,136,184,248,334], steel:[0,10000,14000,18000,25000,34000,46000,62000,83000] },
      health:       { fcs:[0,40,56,74,102,136,184,248,334], steel:[0,10000,14000,18000,25000,34000,46000,62000,83000] },
      flameLegion:  { fcs:[0,83,102,125,150,184,225,276,334,418,502,602,744], steel:[0,23000,28000,34000,41000,51000,62000,76000,93000,110000,130000,160000,200000] },
      attack:       { fcs:[0,54,66,81,97,118,145,178,216,270,324,388,480], steel:[0,15000,18000,22000,27000,33000,40000,49000,60000,75000,90000,100000,130000] },
      defense:      { fcs:[0,54,66,81,97,118,145,178,216,270,324,388,480], steel:[0,15000,18000,22000,27000,33000,40000,49000,60000,75000,90000,100000,130000] },
      helios:       { fcs:[0,2236], steel:[0,1000000] },
      healing:      { fcs:[0,102,137,188,255,341,459,612,836,1122,1530], steel:[0,30000,40000,55000,75000,100000,130000,180000,240000,330000,450000] },
      training:     { fcs:[0,102,137,188,255,341,459,612,836,1122,1530], steel:[0,30000,40000,55000,75000,100000,130000,180000,240000,330000,450000] },
      firstAid:     { fcs:[0,51,68,94,127,170,229,306,418,561,765], steel:[0,15000,20000,27000,37000,50000,67000,90000,120000,160000,220000] }
    };

    // Populate all selects
    document.addEventListener('DOMContentLoaded', () => {
      const fill = (id, data) => {
        const sel = document.getElementById(id);
        data.forEach(v => sel.appendChild(new Option(v, v)));
      };
      fill("currentLevel", buildingLevels);
      fill("desiredLevel", buildingLevels);
      fill("currentGear", gearLevels);
      fill("desiredGear", gearLevels);
      fill("currentCharm", [...Array(charmData.length).keys()]);
      fill("desiredCharm", [...Array(charmData.length).keys()]);
      fill("currentHeroShard", heroLevels);
      fill("desiredHeroShard", heroLevels);
      fill("currentHeroWidget", [...Array(heroWidgetData.length).keys()]);
      fill("desiredHeroWidget", [...Array(heroWidgetData.length).keys()]);
      warAcadIds.forEach(id => {
        const len = warAcadData[id].fcs.length;
        const arr = [...Array(len).keys()];
        fill(id + "Current", arr);
        fill(id + "Desired", arr);
      });
    });

    // Tab switching
    function showTab(id) {
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.tabs button').forEach(b => b.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      document.querySelector(`.tabs button[onclick="showTab('${id}')"]`).classList.add('active');
    }

    // Calculators
    function calculateFCs() {
      const b = document.getElementById("buildingType").value;
      const c = buildingLevels.indexOf(document.getElementById("currentLevel").value);
      const d = buildingLevels.indexOf(document.getElementById("desiredLevel").value);
      let fc = 0, rfc = 0;
      for (let i = c+1; i <= d; i++) {
        fc  += fcCosts[buildingLevels[i]]||0;
        rfc += rfcCosts[buildingLevels[i]]||0;
      }
      document.getElementById("buildingResult").innerHTML =
        `Building: ${b}<br>Fire Crystals: ${fc}<br>Refined FC: ${rfc}`;
    }

    function calculateGear() {
      const c = gearLevels.indexOf(document.getElementById("currentGear").value);
      const d = gearLevels.indexOf(document.getElementById("desiredGear").value);
      let A=0,P=0,L=0,Am=0;
      for (let i = c+1; i <= d; i++) {
        const g = gearData[i]||{};
        A += g.Alloy; P += g.Polish; L += g.Plans; Am += g.Amber;
      }
      document.getElementById("gearResult").innerHTML =
        `Alloy: ${A}<br>Polish: ${P}<br>Plans: ${L}<br>Amber: ${Am}`;
    }

    function calculateCharms() {
      const c = +document.getElementById("currentCharm").value;
      const d = +document.getElementById("desiredCharm").value;
      let G=0,D=0,S=0;
      for (let i = c; i < d; i++) {
        G += charmData[i]?.Guides||0;
        D += charmData[i]?.Designs||0;
        S += charmData[i]?.Secrets||0;
      }
      document.getElementById("charmResult").innerHTML =
        `Guides: ${G}<br>Designs: ${D}<br>Secrets: ${S}`;
    }

    function calculateHeroShards() {
      const c = heroLevels.indexOf(document.getElementById("currentHeroShard").value);
      const d = heroLevels.indexOf(document.getElementById("desiredHeroShard").value);
      let sum = 0;
      for (let i = c+1; i <= d; i++) sum += heroShardData[i]||0;
      document.getElementById("heroShardResult").innerText =
        `Total Hero Shards: ${sum}`;
    }

    function calculateHeroWidgets() {
      const c = +document.getElementById("currentHeroWidget").value;
      const d = +document.getElementById("desiredHeroWidget").value;
      let sum = 0;
      for (let i = c+1; i <= d; i++) sum += heroWidgetData[i]||0;
      document.getElementById("heroWidgetResult").innerText =
        `Total Hero Widgets: ${sum}`;
    }

    function calculateWarAcademy() {
      let out = "";
      warAcadIds.forEach((id, idx) => {
        const name = warAcadNames[idx];
        const c = +document.getElementById(id+"Current").value;
        const d = +document.getElementById(id+"Desired").value;
        let f=0,s=0;
        for (let i = c+1; i <= d; i++) {
          f += warAcadData[id].fcs[i]||0;
          s += warAcadData[id].steel[i]||0;
        }
        out += `<strong>${name}</strong>: ${f} FCS, ${s} Steel<br>`;
      });
      document.getElementById("warAcademyResult").innerHTML = out;
    }
  </script>
</body>
</html>
